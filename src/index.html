<html>
	<head>
		<!-- FONT -->
		<link href="http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
		
		<link rel="stylesheet" type="text/css" href="css/index.css">

		<!-- PLUGINS -->
		<script type="text/javascript" src="../bower_components/jquery/dist/jquery.js"></script>
		<script type="text/javascript" src="../bower_components/velocity/velocity.js"></script>
		<script type="text/javascript" src="/socket.io/socket.io.js"></script>

		<!-- CODE -->
		<script type="text/javascript" src="index.js"></script>
		<script>
			$(document).ready(function() {
				Main();
			});
		</script>

	</head>

	<body>
		<div id="view-container">
			<div id="view">
				<div id="room" class="view-box">
					<div class="text-view"></div>
				</div>
				<div id="inventory" class="view-box">
					<div class="text-view"></div>
				</div>
				<div id="feedback" class="view-box">
					<div class="text-view"></div>
				</div>
			</div>
		</div>

		<div id="input-container">
			<textarea id="text-input" name="text-input" placeholder="Type commands here - enter to submit - shift+enter for newline"></textarea>
		</div>

	    <script>
	      var socket = io();
	      $('#text-input').bind('keypress', function(event) {
	      	var key = event.keyCode || event.which;
	      	if(key === 13  && !event.shiftKey) {
		      	var val = $('#text-input').val();
		        socket.emit('chat message', val);
		        $('#text-input').val('');
      			event.preventDefault();
      			return false
	        }
	      });
	      socket.on('chat message', function(msg) {
	        $('#feedback .text-view').append($('<p>').text(msg));
	        var feedback = $('#feedback');
	        var height = feedback.prop('scrollHeight');
	        console.log(height);
	        feedback.scrollTop(height);
	      });
	    </script>
	</body>

</html>